@page "/"

@using TaxDashboard.Components.Navbar

@inject ClientsService ClientsService
@inject BanksService BanksService

<ClientSelector  StartingClient="@_client" OnSelectedClientChanged="(client) => _client = client" OnSelectedDateContextChanged="(date) => _date = date"/>

@(_date.HasValue ? _date.ToString() : "Brak daty")
@(_client?.FullName ?? "NoClient")

@code {
    private bool show = true;
    private Client _client;
    private DateOnly? _date = null;

    private IEnumerable<Bank> _banks;

    protected override async Task OnParametersSetAsync()
    {
        _client = (await ClientsService.GetAllAsync())[0];
        _banks = await BanksService.GetAllAsync();
    }
}