@inherits LayoutComponentBase

<MudThemeProvider IsDarkMode="true" />
<MudPopoverProvider />
<MudDialogProvider BackdropClick="false" CloseOnEscapeKey="true" CloseButton="true" />
<MudSnackbarProvider />

<MudLayout>
    <MudDrawer Elevation="2" Open="true" Breakpoint="Breakpoint.Xs">
        <MudNavMenu Class="mud-width-full">
            <MudText Typo="Typo.h5" Class="mb-2" Align="Align.Center">TaxDashboard</MudText>
            <MudDivider />
            <MudNavGroup Title="Klient" Icon="@Icons.Material.Filled.Person" Expanded="true">
                <MudNavLink Href="/dashboard" Icon="@Icons.Material.Filled.Dashboard">Dashboard</MudNavLink>
                <MudNavLink Href="/data" Icon="@Icons.Material.Filled.EditNote">Dane</MudNavLink>
                <MudNavLink Href="/add" Icon="@Icons.Material.Filled.PersonAdd">Nowy</MudNavLink>
            </MudNavGroup>
            <MudNavLink Href="/list" Icon="@Icons.Material.Filled.FormatListBulleted">Lista klientów</MudNavLink>
            <MudNavLink Href="/settings" Icon="@Icons.Material.Filled.Settings">Ustawienia</MudNavLink>
        </MudNavMenu>
    </MudDrawer>

    <MudMainContent Class="pt-0">
        @{
            ErrorBoundary _errorBoundaryRef = default!;
        }
        <ErrorBoundary @ref="@_errorBoundaryRef">
            <ChildContent>
                @Body
            </ChildContent>
            <ErrorContent>
                <TaxDashboard.Components.Layout.Components.ErrorMessage DisplayedException="@context" OnRecoverClicked="@_errorBoundaryRef.Recover" />
            </ErrorContent>
        </ErrorBoundary>
    </MudMainContent>
</MudLayout>